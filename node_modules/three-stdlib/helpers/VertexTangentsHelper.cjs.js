"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("three");const e=new t.Vector3,r=new t.Vector3;class o extends t.LineSegments{constructor(e,r,o){this.object=e,this.size=void 0!==r?r:1;const s=void 0!==o?o:65535,i=this.object.geometry;if(!i||!i.isBufferGeometry)return void console.error("THREE.VertexTangentsHelper: geometry not an instance of THREE.BufferGeometry.",i);const n=i.attributes.tangent.count,a=new t.BufferGeometry,c=new t.Float32BufferAttribute(2*n*3,3);a.setAttribute("position",c),super(a,new t.LineBasicMaterial({color:s,toneMapped:!1})),this.type="VertexTangentsHelper",this.matrixAutoUpdate=!1,this.update()}update(){this.object.updateMatrixWorld(!0);const t=this.object.matrixWorld,o=this.geometry.attributes.position,s=this.object.geometry,i=s.attributes.position,n=s.attributes.tangent;let a=0;for(let s=0,c=i.count;s<c;s++)e.set(i.getX(s),i.getY(s),i.getZ(s)).applyMatrix4(t),r.set(n.getX(s),n.getY(s),n.getZ(s)),r.transformDirection(t).multiplyScalar(this.size).add(e),o.setXYZ(a,e.x,e.y,e.z),a+=1,o.setXYZ(a,r.x,r.y,r.z),a+=1;o.needsUpdate=!0}}exports.VertexTangentsHelper=o;
